
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Discussion 4</title>
    <meta name="author" content="Linquan Ma">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="http://mlqmlq.github.io/STAT628/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="http://mlqmlq.github.io/STAT628/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="http://mlqmlq.github.io/STAT628/assets/themes/twitter/css/main.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->

    <!-- atom & rss feed -->
    <link href="nil" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="nil" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">Data Science Practicum - STAT 628 - Fall 2020</a>
          <ul class="nav">
              <li><a href="/pages/schedule.html">schedule</a></li>
          </ul>

        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<div class="page-header">
  <h2>Discussion 4 </h2>
</div>

<div class="row-fluid">
  <div class="span12">
    <h2 id="grading-policy-for-module-1-coding-portion">Grading policy for Module 1 (coding portion)</h2>

<p>Loss function:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loss</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nf">return</span><span class="p">((</span><span class="n">t</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w"> 
  </span><span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="m">+10</span><span class="p">)</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="m">1000</span><span class="p">)</span><span class="w">
  </span><span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="m">+20</span><span class="p">)</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="m">5000</span><span class="p">)</span><span class="w">
  </span><span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="m">+30</span><span class="p">)</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="m">10000</span><span class="p">)</span><span class="w">
  </span><span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="m">+40</span><span class="p">)</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="m">20000</span><span class="p">)</span><span class="w">
  </span><span class="k">if</span><span class="p">(</span><span class="n">t</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="m">+50</span><span class="p">)</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="m">40000</span><span class="p">)</span><span class="w">
  </span><span class="nf">return</span><span class="p">((</span><span class="n">x</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>How did we generate the 9-dim vector in the report:</p>

<p>The first three elements indicates whether your code throws error for the three dataset we use. If not, you get 1. Otherwise, you get 0. If your code doesn’t throw error for any of them, at least you will get 2 points for the coding portion.</p>

<p>The fourth through sixth elements are generated by</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loss</span><span class="p">(</span><span class="n">your_function</span><span class="p">(</span><span class="n">y_t</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">maxcap</span><span class="p">),</span><span class="w"> </span><span class="n">trueTime</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>The last three elements represents the running time of your code, generated by the following code:</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">codetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">10</span><span class="p">)</span><span class="w">
</span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">start</span><span class="o">=</span><span class="n">Sys.time</span><span class="p">()</span><span class="w">
  </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">your_function</span><span class="p">(</span><span class="n">y_t</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">maxcap</span><span class="p">)</span><span class="w"> 
  </span><span class="n">end</span><span class="o">=</span><span class="n">Sys.time</span><span class="p">()</span><span class="w">
  </span><span class="n">codetime</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>You will get more points for  lower loss ($\le 10000$), quick running time (finishes within $10^{-3}s$) and good-looking scalability plot.</p>

<p>Also, the score for the coding portion only reflects how well your predictions are on those three <strong>specific</strong> datasets. Don’t be upset if you didn’t get a satisfied score, because</p>

<ul>
  <li>The second and thrid worth much more points than the first one</li>
  <li>The grade distribution of this course based on the history is generous (nearly all the students got an A)</li>
</ul>

<p>If you have any concerns for the grade of the coding portion, feel free to talk with me during my office hours.</p>

<h2 id="nonlinear-opitmization">Nonlinear Opitmization</h2>

<p>Most of the time, when training a machine learning model, we need to perform continuous nonlinear opttimization over an objective function. In this discussion, I will cover some basic optimizers and their properties:</p>

<ul>
  <li>Gradient descent</li>
  <li>Nesterov’s accelarated gradient descent</li>
  <li>Conjugate gradient</li>
  <li>Stochastic gradient descent</li>
</ul>

<p>Throughout the discussion, we consider the unconstrained minimization of a smooth convex function:
\[\min_{x\in\mathbb R^n} f(x)\]</p>

<h3 id="gradient-descent">Gradient descent</h3>

<hr />

  </div>
</div>

<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
processEscapes: true},
jax: ["input/TeX","input/MathML","input/AsciiMath","output/CommonHTML"],
extensions: ["tex2jax.js","mml2jax.js","asciimath2jax.js","MathMenu.js","MathZoom.js","AssistiveMML.js", "[Contrib]/a11y/accessibility-menu.js"],
TeX: {
extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"],
equationNumbers: {
autoNumber: "AMS"
}
}
});
</script>
      </div>
      <hr>
      <footer>
        <p>
          <!-- start of footer -->
          Fall 2020 &nbsp;-&nbsp;
          <a href="http://mlqmlq.github.io">Linquan Ma</a>
          <!-- end of footer -->
        </small></p>
      </footer>

    </div>

    
  </body>
</html>

